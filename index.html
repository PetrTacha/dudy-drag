<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <script type="text/json" src="./config.json"></script>
    <style>
        .dudy-app {
            position: relative;
            width: 100%;
            height: 100%;
        }

        svg {
            position: absolute;
            pointer-events: none;
            z-index: 1;
            scale: 1;
            /*transform: translate(10px);*/
            height: 20rem;
            width: auto;
            border: solid red 2px;
        }

        .svg-wrapper {
            /*scale:0.3;*/
            pointer-events: none;
            position: absolute;
        }

        /*.svg-box {*/
        /*    height: 50rem;*/
        /*    width: auto;*/
        /*}*/

        #draggableGroup {
            cursor: grab;
            /*user-drag: none;*/
            /*z-index: 5;*/
            pointer-events: auto;
        }

        .scale-3 {
            scale: 1.5;
        }

        .menu-bar {
            position: absolute;
            right: 5rem;
            top: 1rem;
        }

        .circle {
            position: absolute;
            background: blue;
            height: 50px;
            width: 50px;
            transform: translate(50px, 50px);
        }

    </style>
</head>
<body style="width: 100vw; height: 100vh; margin: 0px; overflow:hidden;">
<main id="dudyApp" class="dudy-app">


    <div class="menu-bar">
        <button id="toolsPlus" class="plus">ZVETSIT</button>
        <button id="toolsMinus" class="plus">ZMENSIT</button>
        <button id="toolsRotateLeft" class="plus">ROTATE LEFT</button>

        <button id="toolsRotateRight" class="plus">ROTATE Right</button>
    </div>

    <div class="circle"></div>
</main>


<script>
    let size = 1;
    let sizeStep = 0.3
    let degree = 15;
    /////////////////BUTTON PLUS//////////////////////////////////////
    document.querySelector("#toolsPlus").addEventListener("click", e => {
        const targetSvg = document.querySelector(".svg-part");

        let currentTransform = targetSvg.getAttribute("transform") || "";

        if (size < sizeStep*8) {
            size = size + sizeStep
        }
        let updatedTransform = "";
        if (currentTransform.includes("scale")) {
            updatedTransform = currentTransform.replace(/scale\((.*?)\)/, `scale(${size})`);
        } else {
            updatedTransform = currentTransform + ` scale(${size})`;
        }
        targetSvg.setAttribute("transform", updatedTransform);
    })

    document.querySelector("#toolsMinus").addEventListener("click", e => {
        const targetSvg = document.querySelector(".svg-part");

        let currentTransform = targetSvg.getAttribute("transform") || "";
        if (size > sizeStep) {
            size = size - sizeStep
        }
        let updatedTransform = "";
        if (currentTransform.includes("scale")) {
            updatedTransform = currentTransform.replace(/scale\((.*?)\)/, `scale(${size})`);
        } else {
            updatedTransform = currentTransform + ` scale(${size})`;
        }
        targetSvg.setAttribute("transform", updatedTransform);
    })

    document.querySelector("#toolsRotateLeft").addEventListener("click", e => {
        const targetSvg = document.querySelector(".svg-part");

        let currentTransform = targetSvg.getAttribute("transform") || "";

        degree = degree - 15
        let updatedTransform = "";
        if (currentTransform.includes("rotate")) {
            updatedTransform = currentTransform.replace(/rotate\((.*?)\)/, `rotate(${degree})`);
        } else {
            updatedTransform = currentTransform + ` rotate(${degree})`;
        }
        targetSvg.setAttribute("transform", updatedTransform);
    })

    document.querySelector("#toolsRotateRight").addEventListener("click", e => {
        const targetSvg = document.querySelector(".svg-part");

        let currentTransform = targetSvg.getAttribute("transform") || "";

        degree = degree + 15
        let updatedTransform = "";
        if (currentTransform.includes("rotate")) {
            updatedTransform = currentTransform.replace(/rotate\((.*?)\)/, `rotate(${degree})`);
        } else {
            updatedTransform = currentTransform + ` rotate(${degree})`;
        }
        targetSvg.setAttribute("transform", updatedTransform);
    })


</script>


<script type="text/javascript" src="./dudy.js"></script>
</body>
</html>